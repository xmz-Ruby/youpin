{"version":3,"sources":["web3.js","registerServiceWorker.js","pages/common/navigator.js","pages/common/topInfo.js","pages/home/child/allProductLists.js","pages/home/child/allProduct.js","action.js","pages/home/home.js","pages/myProducts/child/myProdutLists.js","pages/myProducts/myProducts.js","pages/myGroups/child/myProdutLists.js","pages/myGroups/myGroups.js","pages/winnerGroups/child/myProdutLists.js","pages/winnerGroups/winnerGroups.js","reducer.js","store.js","router/index.js","index.js","images/tv.jpg","youpin.js","images/logo.jpg","pages/newGroup/newGroup.js"],"names":["web3","Web3","window","currentProvider","addEventListener","a","ethereum","enable","console","log","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","catch","error","Nav","className","this","props","history","pathname","role","Link","to","React","Component","withRouter","TopInfo","height","src","logo","ProductLists","args","onSubmitQuit","event","eth","getAccounts","accounts","setState","message","youpin","methods","personalRefund","groupId","send","from","getGroupOutline","call","idx_pro_info","groupDetails","idx","$","modal","onSubmitChild","lottery","joinState","display","haveJoinState","joinstatestring","password","joinGroup","value","utils","toWei","String","pro_price","waitData","joinString","quitState","showModal","clickIdx","pro_count","idx_pro_info_detail","warning_text","groups","chiefDetails","divStyle","position","top","spanStyle","wordBreak","width","whiteSpace","wordWrap","overflow","groupdetailstyle","groupDetailsspanstyle","e","target","getAttribute","fromWei","renderIsInGroup","getGroupArr","length","i","key","_group","getGroupDetail","_chiefDetail","push","placeholder","onChange","isInGroup","Products","map","item","alt","style","title","data-idx","data-toggle","data-target","onClick","addProInModal","bind","clear","id","tabIndex","aria-labelledby","type","data-dismiss","renderPassWord","AllProducts","onSubmitData","addProduct","connect","dispatch","pro_name","addProductAction","Home","productLists","confirm","onSubmitAddress","completeReceipt","name","address","phone","My_pro_arr","receipt","divNoFloatStyle","getPlayerGroupMap","Add_pro_arr","splice","jugleContent","align","Button","open","Modal","show","onHide","close","Header","closeButton","Title","Body","class","for","onNameInputChange","required","onPhoneInputChange","onAddressInputChange","Footer","pro_Info","myProducts","onSubmitExpressNumber","fillInTheDeliveryOrderNumber","expressNumber","onSubmitDestroy","destroyGroup","getWinnerDetails","getWinnerString","getPrizeWinnerDetail","on","events","LogRegStatus","returnValues","winnerDetail","prizewinnerName","prizewinnerAddr","prizewinnerPhoneNumber","getChiefGroupMap","renderDestroy","onExpressNumberInputChange","myGroups","getWinnerGroupMap","winnerGroups","infoBox","addPro","action","put_in_infoBox","store","createStore","reducer","RouteJs","manager","balance","data","paddingTop","Switch","Route","exact","path","component","home","newGroup","ReactDOM","render","document","getElementById","URL","process","origin","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","module","exports","Contract","ipfs","ipfsAPI","host","port","protocol","prizeName","prizeValue","playerNumber","prizeImage","phoneNumber","details","onSubmit","preventDefault","border","ref","multiple","file","refs","files","reader","FileReader","readAsArrayBuffer","onloadend","Promise","resolve","reject","buffer","Buffer","result","add","hash","err","saveImageOnIpfs"],"mappings":"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","file":"static/js/main.13b29531.chunk.js","sourcesContent":["import Web3 from 'web3';\n//console.log(window.web3.currentProvider);\nconst web3 = new Web3(window.web3.currentProvider);\nwindow.addEventListener('load', async () => {\n    // Modern dapp browsers...\n    if (window.ethereum) {\n        let ethereum = window.ethereum;\n        window.web3 = new Web3(ethereum);\n        try {\n            // Request account access if needed\n            await ethereum.enable();\n            // Acccounts now exposed\n            //web3.eth.sendTransaction({/* ... */});\n        } catch (error) {\n            // User denied account access...\n        }\n    }\n    // Legacy dapp browsers...\n    //else if (window.web3) {\n        //window.web3 = new Web3(web3.currentProvider);\n        // Acccounts always exposed\n        //web3.eth.sendTransaction({/* ... */});\n   // }\n    // Non-dapp browsers...\n    else {\n        console.log('Non-Ethereum browser detected. You should consider trying MetaMask!');\n    }\n});\n//const web3 = new Web3(window.web3.currentProvider);\n\n  //web3.eth.getAccounts().then(fetchedAccounts =>{ console.log(fetchedAccounts) });\n  //fetchedAccounts = await web3.eth.getAccounts();\n  //console.log(fetchedAccounts);\n\nexport default web3;\n\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\r\n\r\nimport { Link,withRouter } from 'react-router-dom'\r\n\r\n//导入导航栏内容\r\n// import navCont from './navCont'\r\n\r\n class Nav extends React.Component{\r\n    render(){\r\n        // console.log(this.props.history.location.pathname);\r\n        // console.log(this.state.navContArr);\r\n        return(\r\n            <ul className=\"nav nav-pills\">\r\n            {/*循环导航栏\r\n                *不可以嵌套Router标签   \r\n            */}            \r\n                <li className={this.props.history.location.pathname === '/' ? 'active' : ''} role=\"presentation\">\r\n                    <Link className=\"liBtn\" to='/'>所有可拼团</Link>\r\n                </li>\r\n               <li className={this.props.history.location.pathname === '/myProducts' ? 'active' : ''} role=\"presentation\">\r\n                    <Link className=\"liBtn\" to='/myProducts'>我参加的团</Link>\r\n                </li>\r\n               <li className={this.props.history.location.pathname === '/myGroups' ? 'active' : ''} role=\"presentation\">\r\n                    <Link className=\"liBtn\" to='/myGroups'>我发起的团</Link>\r\n                </li>\r\n                <li className={this.props.history.location.pathname === '/winnerGroups' ? 'active' : ''} role=\"presentation\">\r\n                    <Link className=\"liBtn\" to='/winnerGroups'>我获奖的团</Link>\r\n                </li>\r\n                <li className={this.props.history.location.pathname === '/groupId' ? 'active' : ''} role=\"presentation\">\r\n                    <Link className=\"liBtn\" to='/groupId'>按团号查询团</Link>\r\n                </li>\r\n                <li className={this.props.history.location.pathname === '/newGroup' ? 'active' : ''} role=\"presentation\">\r\n                    <Link className=\"liBtn\" to='/newGroup'>新建拼奖团</Link>\r\n                </li>\r\n            </ul>\r\n        )\r\n    }\r\n\r\n}\r\n//通过withRouter给Nav组件注入路由信息\r\nNav = withRouter(Nav);\r\nexport default Nav;","import React,{Component} from 'react'\r\nimport logo from '../../images/logo.jpg'\r\n\r\nexport default class TopInfo extends Component{\r\n    render(){\r\n        return(\r\n            <div>\r\n                <img height=\"80px\" src={logo}/>一起来拼奖\r\n            </div>\r\n        )\r\n    }\r\n} ","import React from 'react';\r\nimport '../../common/Product.css';\r\n\r\nimport $ from 'jquery';\r\nimport  'bootstrap/dist/js/bootstrap' ;\r\nimport './modal.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport web3 from '../../../web3';\r\nimport youpin from '../../../youpin';\r\n\r\nexport default class ProductLists extends React.Component{\r\n    constructor(...args){\r\n        super(...args)\r\n        \r\n        this.state = {\r\n            waitData:\"正在加载...\",\r\n            joinString:\"\",\r\n            joinState:{display: \"none\"},\r\n            haveJoinState:{display: \"none\"},\r\n            quitState:{display: \"none\"},\r\n            showModal: false,\r\n            \r\n            clickIdx:0,\r\n            pro_count:1, \r\n            idx:0,           \r\n            idx_pro_info:[],\r\n            idx_pro_info_detail:[],\r\n            password:\"0\",\r\n            warning_text:'',\r\n            pro_price:0,\r\n            groups:[],\r\n            groupId:0,\r\n            groupDetails:[],\r\n            chiefDetails:[],\r\n            divStyle:{\r\n                position:\"relative\",\r\n                top:\"20px\"\r\n            },\r\n            spanStyle:{\r\n                wordBreak:\"normal\",\r\n                width:\"auto\", \r\n                display:\"block\", \r\n                whiteSpace:\"pre-wrap\",\r\n                wordWrap : \"break-word\" ,\r\n                overflow: \"hidden\",\r\n                position: \"relative\",\r\n                top:\"-20px\" \r\n            },\r\n            groupdetailstyle:{\r\n                height:\"100px\",\r\n                width:\"100%\"\r\n            },\r\n            groupDetailsspanstyle:{\r\n                wordBreak:\"normal\",\r\n                width:\"auto\", \r\n                display:\"block\", \r\n                whiteSpace:\"pre-wrap\",\r\n                position: \"relative\",\r\n                top:\"-20px\" \r\n            }\r\n        }    \r\n    } \r\n\r\n\r\n    //给模态框添加相应的产品信息\r\n    addProInModal(e){\r\n        let idx = e.target.getAttribute('data-idx');\r\n        // console.log(this.state.clickIdx)\r\n        let idx_pro_info = this.state.groupDetails[idx];\r\n        let idx_pro_info_detail = this.state.chiefDetails[idx];\r\n        // console.log(idx_pro_info)\r\n        this.setState({\r\n            idx,\r\n            groupId:this.state.groups[idx],\r\n            idx_pro_info,\r\n            joinString:idx_pro_info[5],\r\n            idx_pro_info_detail,\r\n            pro_price:web3.utils.fromWei(idx_pro_info[2],'ether'),\r\n            pro_count:1,//每次打开模拟框初始化数量\r\n        });\r\n        this.renderIsInGroup(this.state.groups[idx]);\r\n    }\r\n    async componentDidMount(){\r\n         //onst manager = await lottery.methods.manager().call();\r\n        const groups = await youpin.methods.getGroupArr().call();\r\n        if(groups.length === 0){\r\n            this.setState({waitData:\"没有获取到数据。\"});\r\n        }else{\r\n            \r\n            this.setState({waitData:\"\"});\r\n        }\r\n         // const balance = await web3.eth.getBalance(youpin.options.address);\r\n        console.log(groups.length);\r\n        const groupDetails = [];\r\n        const chiefDetails = [];\r\n        // _group.prizeName,_group.chiefWalletAddr,_group.prizeValue,_group.expectedPlayerNumber,_group.playerWalletAddrArr.length,state[_group.state],_group.ispassword,_group.prizewinnerWalletAddr\r\n        for(let i=0;i<groups.length;i++){\r\n            console.log(groups[0]);\r\n            const _group= await youpin.methods.getGroupOutline(groups[i]).call();\r\n            for(let key in _group){\r\n                console.log(key + '---' + _group[key])\r\n            } \r\n            const _chiefDetail = await youpin.methods.getGroupDetail(groups[i]).call();\r\n            for(let key in _chiefDetail){\r\n                console.log(key + '---' + _chiefDetail[key])\r\n            } \r\n            groupDetails.push(_group);\r\n            chiefDetails.push(_chiefDetail);\r\n        }\r\n        this.setState({groups,groupDetails,chiefDetails});\r\n    };\r\n\r\n    onSubmitQuit = async event =>{\r\n        const accounts = await web3.eth.getAccounts();\r\n        this.setState({message:'waiting on transation success'});\r\n        await youpin.methods.personalRefund(this.state.groupId).send({from:accounts[0]});\r\n        \r\n        this.setState({message:'you quit.'});\r\n        const idx_pro_info = await youpin.methods.getGroupOutline(this.state.groupId).call();\r\n        this.state.groupDetails[this.state.idx] = idx_pro_info;\r\n        this.setState({\r\n            groupDetails:this.state.groupDetails\r\n        });\r\n\r\n        //隐藏\r\n        $('#myModal').modal('hide')\r\n        this.setState({message:''});\r\n        \r\n    }\r\n\r\n    //数据传回父级\r\n    onSubmitChild= async event =>{\r\n        const accounts = await web3.eth.getAccounts();\r\n        this.setState({message:'waiting on transation success'});\r\n        if (this.state.idx_pro_info[5]==='ForLottery'){\r\n            await youpin.methods.lottery(this.state.groupId).send({from:accounts[0]});\r\n            const idx_pro_info = await youpin.methods.getGroupOutline(this.state.groupId).call();\r\n            this.state.groupDetails[this.state.idx] = idx_pro_info;\r\n            this.setState({\r\n               groupDetails:this.state.groupDetails\r\n            });\r\n            if(idx_pro_info[7]===accounts[0]){\r\n                this.setState({message:\"Congratulate\"+idx_pro_info[7],joinState:{display:\"none\"},haveJoinState:{display: \"\"},joinstatestring:\"恭喜您已中奖，请前往您中奖的团查看详情\"});\r\n            }else{\r\n                this.setState({message:\"Congratulate\"+idx_pro_info[7],joinState:{display:\"none\"},haveJoinState:{display: \"\"},joinstatestring:\"抱歉您没中奖，下次好运~\"});\r\n            }\r\n            \r\n        }\r\n        else{\r\n            if (this.state.password == null){\r\n                this.state.password = \"0\";\r\n            }\r\n            await youpin.methods.joinGroup(this.state.groupId,this.state.password).send({from:accounts[0],value:web3.utils.toWei(String(this.state.pro_price/this.state.idx_pro_info[3]),'ether')});\r\n         \r\n            this.setState({message:'you have participated.'});\r\n            const idx_pro_info = await youpin.methods.getGroupOutline(this.state.groupId).call();\r\n            this.state.groupDetails[this.state.idx] = idx_pro_info;\r\n            this.setState({\r\n               groupDetails:this.state.groupDetails\r\n            });\r\n\r\n            //隐藏\r\n            $('#myModal').modal('hide')\r\n            this.setState({message:''});\r\n        }\r\n         \r\n    }\r\n\r\n    renderPassWord(){\r\n        let passWord;\r\n        if (this.state.idx_pro_info[6] && this.state.idx_pro_info[5]===\"Join\") {\r\n            return (<input placeholder=\"please enter the password\" onChange={ event=> {this.setState({password:event.target.value})}}></input>);\r\n        }\r\n        else{\r\n             return ;\r\n        }\r\n    }\r\n    \r\n    \r\n\r\n    async renderIsInGroup(idx){\r\n\r\n        const accounts = await web3.eth.getAccounts();\r\n        const isInGroup = await youpin.methods.isInGroup(idx).call({from:accounts[0]});\r\n        console.log(isInGroup);\r\n        if (isInGroup>0 && this.state.idx_pro_info[4]<this.state.idx_pro_info[3] ) {\r\n\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({quitState:{display: \"\"}});\r\n        \r\n        } \r\n        else if(isInGroup>0 && this.state.idx_pro_info[4]>=this.state.idx_pro_info[3] && this.state.idx_pro_info[5]=='Join') {\r\n            this.setState({haveJoinState:{display: \"\"}});\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({quitState:{display: \"none\"}});\r\n        }\r\n        else if(this.state.idx_pro_info[5] =='ForLottery') {\r\n            this.setState({joinState:{display: \"\"},joinString:\"点击开奖\"});\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({quitState:{display: \"none\"}});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Complete the Receipt information' && this.state.idx_pro_info[7]===accounts[0]){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"\"},joinstatestring:\"恭喜您已中奖，请前往您中奖的团查看详情\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n        } \r\n        else if(this.state.idx_pro_info[5]==='Join' && isInGroup==0 ){\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({joinState:{display: \"\"},joinString:\"点击参与\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n        }\r\n        else{\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({joinState:{display: \"\"},joinString:\"已参与，未中奖\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n\r\n        let Products = this.state.groupDetails;\r\n        return(\r\n            <ul >\r\n            {this.state.waitData}\r\n                {\r\n                    Products.map((item,i) =>\r\n                        <li key={this.state.groups[i]} className=\"productLi right_li\">\r\n                            <img alt=\"\" src={\"http://localhost:8080/ipfs/\" + item[8]} className=\"productImg\" /> \r\n                            <div className=\"productCont\" style={this.state.divStyle}>\r\n                                <div className=\"contLeft\" style={{position:\"relative\",top:\"20px\",width:\"100%\"}}>\r\n                                    <p className=\"pro_name\">{item[0]}</p>\r\n                <span className=\"pro_desc\" style={this.state.spanStyle}  title={item[1]}>{this.state.chiefDetails[i][2]}</span>\r\n                                </div>\r\n\r\n                                <div className=\"contRight\" style={this.state.divStyle}>\r\n                                    <p className=\"price\">￥{web3.utils.fromWei(item[2],'ether')}ETH</p>\r\n                                    <button className=\"btn btn-danger\" data-idx={i} data-toggle=\"modal\" data-target=\"#myModal\" onClick={this.addProInModal.bind(this)}>查看详情</button>\r\n                                </div>\r\n                                <div style={{clear:'both'}}></div>\r\n                            </div>\r\n                        </li>\r\n                    )\r\n                }\r\n\r\n                {/*bootstrap弹框样式*/}\r\n                <div className=\"modal fade\" id=\"myModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\r\n                    <form id=\"saveChangeForm\">\r\n                        <div className=\"modal-dialog\" role=\"document\">\r\n                            <div className=\"modal-content\">\r\n                                <div className=\"modal-header\">\r\n                                    <h6 className=\"modal-title\" id=\"myModalLabel\">查看(团号:{this.state.groupId})详情</h6>\r\n\r\n                                </div>\r\n                                <div className=\"modal-body\">\r\n                                    <img alt=\"\" src={\"http://localhost:8080/ipfs/\" + this.state.idx_pro_info[8]} className=\"productImg\" /> \r\n                                    <div className=\"productCont\" >\r\n                                        <div className=\"contLeft\" >\r\n                                            <p className=\"pro_name\" style={{position: \"relative\", top:\"-15px\" }}>{this.state.idx_pro_info[0]}</p>\r\n                                            <span className=\"pro_desc\" style={this.state.spanStyle} title={this.state.idx_pro_info_detail[2]}>{this.state.idx_pro_info_detail[2]}</span>\r\n                                        </div>\r\n\r\n                                        <div className=\"contRight\" style={this.state.divStyle}>\r\n                                            <p className=\"price\">参团费用￥{this.state.pro_price/this.state.idx_pro_info[3]}ETH</p>\r\n                                            <p className=\"countBtn\">\r\n                                                <span className=\"count_warning\">完成度</span>\r\n                                                <span className=\"count\">{this.state.idx_pro_info[4]}/{this.state.idx_pro_info[3]}</span>\r\n                                            </p>\r\n                                        </div>\r\n                                        <div style={{clear:'both'}}></div>\r\n                                    </div>\r\n                                    <div className=\"productCont2\" style={this.state.groupdetailstyle}>\r\n                                        <div className=\"contLeft\" >\r\n                                            <p className=\"pro_name\" style={{position: \"relative\", top:\"-15px\" }}>团长详情</p>\r\n                                            <span className=\"pro_desc2\" style={this.state.groupDetailsspanstyle} title={this.state.idx_pro_info_detail[0]}>团长联系方式：{this.state.idx_pro_info_detail[0]}</span>\r\n                                            <span className=\"pro_desc2\" style={this.state.groupDetailsspanstyle} title={this.state.idx_pro_info_detail[1]}>团长联系地址：{this.state.idx_pro_info_detail[1]}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"modal-footer\" >\r\n                                    <span>{this.state.message}{}</span>\r\n                                    \r\n                                    <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>                    \r\n                                    {  this.renderPassWord() }\r\n                                    <button type=\"button\" className=\"btn btn-primary\"  onClick={this.onSubmitChild}  style={this.state.joinState}>{this.state.joinString}</button>\r\n                <button type=\"button\" className=\"btn btn-primary\"  style={this.state.haveJoinState}>{this.state.joinstatestring}</button>\r\n                                    <button type=\"button\" className=\"btn btn-primary\"  onClick={this.onSubmitQuit} style={this.state.quitState}>已参与点击退团</button>             \r\n                                    \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                \r\n            </ul>\r\n        )\r\n\r\n    }\r\n\r\n}","import React from 'react'\r\n\r\n//导入react-redux\r\nimport { connect } from 'react-redux'\r\n//导入action\r\nimport { addProductAction } from '../../../action'\r\n\r\n//导入子组件 \r\nimport ProductLists from './allProductLists'\r\n\r\n\r\nclass AllProducts extends React.Component{\r\n    constructor(){\r\n        super();\r\n\r\n        this.state={\r\n\r\n        }\r\n    }\r\n\r\n    addProduct(e){\r\n        //获得子组件传递的数据\r\n        // console.log(e)\r\n        //数据传入函数\r\n        this.props.onSubmitData(e);\r\n    }\r\n\r\n    \r\n\r\n\r\n    render(){\r\n        // console.log(AllProductsJson);\r\n        return(\r\n            <div className=\"allProducts\">\r\n                 <ProductLists onSubmitData={this.addProduct.bind(this)} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        //传值\r\n        onSubmitData({pro_name,pro_price,pro_count})\r\n        {\r\n            dispatch(addProductAction({pro_name,pro_price,pro_count}))\r\n        }\r\n    }\r\n}\r\n\r\nAllProducts = connect(\r\n    null,\r\n    mapDispatchToProps\r\n)(AllProducts)\r\n\r\n\r\nexport default AllProducts;","export const addProductAction = ({pro_name,pro_price,pro_count}) => ({\r\n    type:'ADD',\r\n    pro_name,\r\n    pro_price,\r\n    pro_count\r\n})","import React from 'react'\r\n\r\nimport AllProduct from './child/allProduct'\r\n\r\nclass Home extends React.Component{\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            \r\n        }\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"home\">\r\n                <AllProduct />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home","import React from 'react'\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nimport '../../common/Product.css'\r\nimport iceboxImg from '../../../images/tv.jpg'\r\nimport {Modal,Button,Popover,Tooltip,FormControl,FormGroup} from 'react-bootstrap';\r\n\r\nimport $ from 'jquery'\r\n\r\nimport web3 from '../../../web3';\r\nimport youpin from '../../../youpin';\r\n\r\n\r\nclass productLists extends React.Component{\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            joinString:\"\",\r\n            waitData:\"正在加载...\",\r\n            joinstatestring:\"已参与\",\r\n            My_pro_arr:'',\r\n            joinState:{display: \"none\"},\r\n            haveJoinState:{display: \"none\"},\r\n            quitState:{display: \"none\"},\r\n            receipt:{display:\"none\"},\r\n            clickIdx:0,\r\n            pro_count:1, \r\n            idx:0,           \r\n            idx_pro_info:[],\r\n            idx_pro_info_detail:[],\r\n            password:\"0\",\r\n            warning_text:'',\r\n            pro_price:0,\r\n            groups:[],\r\n            groupId:0,\r\n            groupDetails:[],\r\n            chiefDetails:[],\r\n            divNoFloatStyle:{position: \"relative\", top: \"20px\"},\r\n            name:\"\",\r\n            address:\"\",\r\n            phone:\"\"\r\n        }\r\n    }\r\n    onNameInputChange(e) {\r\n        this.setState({ name: e.target.value } );\r\n    }\r\n    onAddressInputChange(e) {\r\n        this.setState({ address: e.target.value } );\r\n    }\r\n    onPhoneInputChange(e) {\r\n        this.setState({ phone: e.target.value } );\r\n    }\r\n    //给模态框添加相应的产品信息\r\n    addProInModal(e){\r\n        let idx = e.target.getAttribute('data-idx');\r\n        // console.log(this.state.clickIdx)\r\n        let idx_pro_info = this.state.groupDetails[idx];\r\n        let idx_pro_info_detail = this.state.chiefDetails[idx];\r\n        // console.log(idx_pro_info)\r\n        this.setState({\r\n            idx,\r\n            groupId:this.state.groups[idx],\r\n            idx_pro_info,\r\n            \r\n            joinString:idx_pro_info[5],\r\n            idx_pro_info_detail,\r\n            pro_price:web3.utils.fromWei(idx_pro_info[2],'ether'),\r\n            pro_count:1,//每次打开模拟框初始化数量\r\n        });\r\n        this.renderIsInGroup(this.state.groups[idx]);\r\n    }\r\n    renderPassWord(){\r\n        let passWord;\r\n        if (this.state.idx_pro_info[6] && this.state.idx_pro_info[5]===\"Join\") {\r\n            return (<input placeholder=\"please enter the password\" onChange={ event=> {this.setState({password:event.target.value})}}></input>);\r\n        }\r\n        else{\r\n             return ;\r\n        }\r\n         }\r\n    async renderIsInGroup(idx){\r\n        const accounts = await web3.eth.getAccounts();\r\n        const isInGroup = await youpin.methods.isInGroup(idx).call({from:accounts[0]});\r\n        console.log(this.state.idx_pro_info[5] ==='ForLottery');\r\n        if (isInGroup>0 && this.state.idx_pro_info[5]==='Join' ) {\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({quitState:{display: \"\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        \r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Complete the Receipt information' && this.state.idx_pro_info[7]===accounts[0]){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"\"}});\r\n        } \r\n        else if(this.state.idx_pro_info[5] ==='ForLottery') {\r\n            this.setState({joinState:{display: \"\"},joinString:\"点击开奖\"});\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Awaiting Shipment' && this.state.idx_pro_info[7]===accounts[0]){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"\"},joinstatestring:\"等待发货...\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Confirmation of receipt' && this.state.idx_pro_info[7] === accounts[0]){\r\n            this.setState({joinState:{display: \"\"},joinString:\"点击确认收货\"});\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Finish!~Congratulations!!!' && this.state.idx_pro_info[7] === accounts[0]){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"\"},joinstatestring:\"奖品已收到！\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Destroyed.'){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"\"},joinstatestring:\"该拼团已撤销！参团费用已退还。\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n        else{\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"\"},joinstatestring:\"已参与，未中奖！\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n    }\r\n    onSubmitChild= async event =>{\r\n        const accounts = await web3.eth.getAccounts();\r\n        this.setState({message:'waiting on transation success'});\r\n        if (this.state.idx_pro_info[5] ==='ForLottery'){\r\n            await youpin.methods.lottery(this.state.groupId).send({from:accounts[0]});\r\n            const idx_pro_info = await youpin.methods.getGroupOutline(this.state.groupId).call();\r\n            this.state.groupDetails[this.state.idx] = idx_pro_info;\r\n            this.setState({\r\n               groupDetails:this.state.groupDetails\r\n            });\r\n            this.setState({message:\"Congratulate\"+idx_pro_info[7]});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Confirmation of receipt'){\r\n            await youpin.methods.confirm(this.state.groupId).send({from:accounts[0]});\r\n            const idx_pro_info = await youpin.methods.getGroupOutline(this.state.groupId).call();\r\n            this.state.groupDetails[this.state.idx] = idx_pro_info;\r\n            this.setState({\r\n               groupDetails:this.state.groupDetails\r\n            });\r\n            this.setState({message:\"确认收货成功\",joinState:{display:\"none\"}});\r\n\r\n        }\r\n        else{\r\n            if (this.state.password == null){\r\n                this.state.password = \"0\";\r\n            }\r\n            await youpin.methods.joinGroup(this.state.groupId,this.state.password).send({from:accounts[0],value:web3.utils.toWei(String(this.state.pro_price/this.state.idx_pro_info[3]),'ether')});\r\n         \r\n            this.setState({message:'you have participated.'});\r\n            const idx_pro_info = await youpin.methods.getGroupOutline(this.state.groupId).call();\r\n            this.state.groupDetails[this.state.idx] = idx_pro_info;\r\n            this.setState({\r\n               groupDetails:this.state.groupDetails\r\n            });\r\n\r\n            //隐藏\r\n            $('#myModal').modal('hide')\r\n            this.setState({message:''});\r\n        }\r\n         \r\n    }\r\n    //生命周期:挂载成功后给state赋值\r\n    async componentDidMount(){\r\n        const accounts = await web3.eth.getAccounts();\r\n        const groups = await youpin.methods.getPlayerGroupMap().call({from:accounts[0]});\r\n    // const balance = await web3.eth.getBalance(youpin.options.address);\r\n    console.log(groups.length);\r\n    if(groups.length === 0){\r\n        this.setState({waitData:\"没有获取到数据。\"});\r\n    }\r\n    const groupDetails = [];\r\n    const chiefDetails = [];\r\n    // _group.prizeName,_group.chiefWalletAddr,_group.prizeValue,_group.expectedPlayerNumber,_group.playerWalletAddrArr.length,state[_group.state],_group.ispassword,_group.prizewinnerWalletAddr\r\n    for(let i=0;i<groups.length;i++){\r\n        console.log(groups[0]);\r\n        const _group= await youpin.methods.getGroupOutline(groups[i]).call();\r\n        for(let key in _group){\r\n            console.log(key + '---' + _group[key])\r\n        } \r\n        const _chiefDetail = await youpin.methods.getGroupDetail(groups[i]).call();\r\n        for(let key in _chiefDetail){\r\n            console.log(key + '---' + _chiefDetail[key])\r\n        } \r\n        groupDetails.push(_group);\r\n        chiefDetails.push(_chiefDetail);\r\n    }\r\n    this.setState({groups,groupDetails,chiefDetails});\r\n\r\n        let Add_pro_arr = this.props.Add_pro_arr ? this.props.Add_pro_arr : ''\r\n        // console.log(Add_pro_arr)\r\n        this.setState({\r\n            My_pro_arr:Add_pro_arr\r\n        })\r\n    }\r\n\r\n    close() {\r\n        this.setState({ showModal: false });\r\n    }\r\n    \r\n    open() {\r\n        this.setState({ showModal: true });\r\n    }\r\n\r\n    //删除产品函数\r\n    deleteAddPro(e){\r\n        let idx = e.target.getAttribute('data-idx');\r\n        // console.log(idx);\r\n        // 删除点击的产品 并重新渲染DOM\r\n        this.state.My_pro_arr.splice(idx,1);\r\n        console.log(this.state.My_pro_arr);\r\n        //更新状态\r\n            //疑问,因为setState属于异步操作,所以DOM更新的时候My_pro_arr还未更新,导致jugleContent的判断失误\r\n        this.setState({\r\n            My_pro_arr:this.state.My_pro_arr\r\n        },function(){\r\n            console.log('setState更新成功')\r\n            this.jugleContent()\r\n        })\r\n    }\r\n\r\n    onSubmitAddress= async event =>{\r\n        const accounts = await web3.eth.getAccounts();\r\n        this.setState({message:'waiting on transation success'});  \r\n\r\n        await youpin.methods.completeReceipt(this.state.groupId,this.state.name,this.state.address,this.state.phone).send({from:accounts[0]});\r\n        \r\n        this.setState({message:'Submit success.'});\r\n        const idx_pro_info = await youpin.methods.getGroupOutline(this.state.groupId).call();\r\n        this.state.groupDetails[this.state.idx] = idx_pro_info;\r\n        this.setState({\r\n            groupDetails:this.state.groupDetails\r\n        });\r\n\r\n        this.setState({ showModal: false });\r\n        //隐藏\r\n        $('#myModal').modal('hide')\r\n        this.setState({message:''});\r\n        \r\n    }\r\n\r\n    jugleContent(){\r\n\r\n        //如果内容不为空,则循环数据\r\n        if( this.state.groupDetails.length>0 ){\r\n            return(\r\n                 <ul>\r\n                    {/*循环接收到的数据:this.props*/}\r\n                    {\r\n                        this.state.groupDetails.map((item,i) => \r\n                        <li key={i} className=\"productLi right_li\">\r\n                        <img alt=\"\" src={\"http://localhost:8080/ipfs/\" + item[8]} className=\"productImg\" /> \r\n                        <div className=\"productCont\">\r\n                        <div className=\"contLeft\" style={{position:\"relative\",top:\"20px\",width:\"100%\"}}>\r\n                            <p className=\"pro_name\">{item[0]}</p>\r\n        <span className=\"pro_desc\" style={this.state.spanStyle}  title={item[1]}>{this.state.chiefDetails[i][2]}</span>\r\n                        </div>\r\n\r\n                            <div className=\"contRight\" >\r\n                                <button className=\"btn btn-info btn-margin\">总价值￥{web3.utils.fromWei(item[2],'ether')}ETH</button>                    \r\n            <button className=\"btn btn-info btn-margin\">参与人次:{item[4]}/{item[3]}</button>\r\n                            </div>\r\n                            \r\n                            <div style={{clear:'both'}}></div>\r\n                        </div>\r\n                        <div style ={this.state.divNoFloatStyle} align=\"center\">\r\n                                <button className=\"btn btn-danger\" data-idx={i} data-toggle=\"modal\" data-target=\"#myModal\" onClick={this.addProInModal.bind(this)}>查看详情</button>\r\n                            </div>\r\n                    </li>)\r\n                    }\r\n                    {/*bootstrap弹框样式*/}\r\n                <div className=\"modal fade\" id=\"myModal\"  role=\"dialog\" aria-labelledby=\"myModalLabel\">\r\n                    <form id=\"saveChangeForm\">\r\n                        <div className=\"modal-dialog\" role=\"document\">\r\n                            <div className=\"modal-content\">\r\n                                <div className=\"modal-header\">\r\n                                    <h6 className=\"modal-title\" id=\"myModalLabel\">查看(团号:{this.state.groupId})详情</h6>\r\n                                </div>\r\n                                <div className=\"modal-body\">\r\n                                    <img alt=\"\" src={\"http://localhost:8080/ipfs/\" + this.state.idx_pro_info[8]} className=\"productImg\" /> \r\n                                    <div className=\"productCont\" >\r\n                                        <div className=\"contLeft\" >\r\n                                            <p className=\"pro_name\">{this.state.idx_pro_info[0]}</p>\r\n                                            <span className=\"pro_desc\" style={this.state.spanStyle} title={this.state.idx_pro_info[1]}>{this.state.idx_pro_info_detail[2]}</span>\r\n                                        </div>\r\n\r\n                                        <div className=\"contRight\" style={this.state.divStyle}>\r\n                                            <p className=\"price\">参团费用￥{this.state.pro_price/this.state.idx_pro_info[3]}ETH</p>\r\n                                            <p className=\"countBtn\">\r\n                                                <span className=\"count_warning\">完成度</span>\r\n                                                <span className=\"count\">{this.state.idx_pro_info[4]}/{this.state.idx_pro_info[3]}</span>\r\n                                            </p>\r\n                                        </div>\r\n                                        <div style={{clear:'both'}}></div>\r\n                                    </div>\r\n                                    <div className=\"productCont2\" style={this.state.groupdetailstyle}>\r\n                                    <div className=\"contLeft\" >\r\n                                            <p className=\"pro_name\" style={{position: \"relative\", top:\"-15px\" }}>团长详情</p>\r\n                                            <span className=\"pro_desc2\" style={this.state.groupDetailsspanstyle} title={this.state.idx_pro_info_detail[0]}>团长联系方式：{this.state.idx_pro_info_detail[0]}</span>\r\n                                            <span className=\"pro_desc2\" style={this.state.groupDetailsspanstyle} title={this.state.idx_pro_info_detail[1]}>团长联系地址：{this.state.idx_pro_info_detail[1]}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"productCont3\" style={this.state.groupdetailstyle}>\r\n                                        <div className=\"contLeft\" >\r\n                                            <p className=\"pro_name\" >中奖用户</p>\r\n                                            <span className=\"pro_desc2\"  title={this.state.idx_pro_info[7]}>{this.state.idx_pro_info[7]}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"modal-footer\" >\r\n                                    <span>{this.state.message}{}</span>\r\n                                    \r\n                                                <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>                    \r\n            {  this.renderPassWord() }\r\n            <button type=\"button\" className=\"btn btn-primary\"  onClick={this.onSubmitChild}  style={this.state.joinState}>{this.state.joinString}</button>\r\n                <button type=\"button\" className=\"btn btn-primary\"  style={this.state.haveJoinState}>{this.state.joinstatestring}</button>\r\n                                    <button type=\"button\" className=\"btn btn-primary\"  onClick={this.onSubmitQuit} style={this.state.quitState}>已参与点击退团</button>\r\n                                    <Button  onClick={this.open.bind(this)} style={this.state.receipt}>恭喜中奖，点击填写收货信息</Button> \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div>\r\n        \r\n \r\n        \r\n        <Modal show={this.state.showModal} onHide={this.close.bind(this)}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>填写收货信息</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <form role=\"form\" id=\"address_form\">\r\n\t<div class=\"form-group\" style={{align:\"center\"}}>\r\n\t\t<label for=\"name\">您的名称</label>\r\n\t\t<input type=\"text\" class=\"form-control\" id=\"name\" \r\n\t\t\t   placeholder=\"请输入名称\" value={this.state.name} onChange={this.onNameInputChange.bind(this)} required/>\r\n\t</div>\r\n    <div class=\"form-group\">\r\n\t\t<label for=\"name\">您的联系方式</label>\r\n\t\t<input type=\"text\" class=\"form-control\" id=\"phone\" \r\n\t\t\t   placeholder=\"请输入手机号\" value={this.state.phone} onChange={this.onPhoneInputChange.bind(this)} required/>\r\n\t</div>\r\n    <div class=\"form-group\">\r\n\t\t<label for=\"name\">您的收货地址</label>\r\n\t\t<input type=\"text\" class=\"form-control\" id=\"address\" \r\n\t\t\t   placeholder=\"请输入收货地址\" value={this.state.address} onChange={this.onAddressInputChange.bind(this)} required/>\r\n\t</div>\r\n</form>\r\n\r\n            <hr />\r\n\r\n            \r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button onClick={this.close.bind(this)}>取消</Button>\r\n            <Button onClick={this.onSubmitAddress.bind(this)}>确认无误并提交</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n                </ul>       \r\n            )\r\n        }\r\n        else{\r\n        return <div className=\"no_pro_arr\">{this.state.waitData}</div>\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        // console.log(this.jugleContent())\r\n        return(\r\n           this.jugleContent()\r\n        )\r\n    }\r\n}\r\n\r\n//connect参数之一,获取参数 , state为接受的参数\r\nconst mapStateToProps = (state) => {\r\n    console.log(state);\r\n    return {\r\n        Add_pro_arr:state.pro_Info\r\n    }\r\n}\r\n\r\nproductLists = connect(mapStateToProps)(productLists)\r\n\r\nexport default productLists;","import React from 'react'\r\n\r\nimport ProductList from './child/myProdutLists'\r\n\r\nclass myProducts extends React.Component{\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            \r\n        }\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"myProducts\">\r\n            \r\n                <ProductList />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default myProducts","import React from 'react'\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nimport '../../common/Product.css'\r\nimport iceboxImg from '../../../images/tv.jpg'\r\nimport {Grid, Row, Col, InputGroup,Modal,Button,Popover,Tooltip,FormControl,FormGroup} from 'react-bootstrap';\r\n\r\nimport $ from 'jquery'\r\n\r\nimport web3 from '../../../web3';\r\nimport youpin from '../../../youpin';\r\n\r\n\r\nclass productLists extends React.Component{\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            expressNumber:\"\",\r\n            joinstatestring:\"已参与\",\r\n            My_pro_arr:'',\r\n            joinState:{display: \"none\"},\r\n            haveJoinState:{display: \"none\"},\r\n            quitState:{display: \"none\"},\r\n            receipt:{display:\"none\"},\r\n            clickIdx:0,\r\n            pro_count:1, \r\n            idx:0,           \r\n            idx_pro_info:[],\r\n            idx_pro_info_detail:[],\r\n            password:\"\",\r\n            warning_text:'',\r\n            pro_price:0,\r\n            groups:[],\r\n            groupId:0,\r\n            groupDetails:[],\r\n            chiefDetails:[],\r\n            divNoFloatStyle:{position: \"relative\", top: \"20px\"},\r\n            name:\"\",\r\n            address:\"\",\r\n            phone:\"\",\r\n            getWinnerString:\"点击查看收件人信息\"\r\n        }\r\n    }\r\n    onNameInputChange(e) {\r\n        this.setState({ name: e.target.value } );\r\n    }\r\n    onExpressNumberInputChange(e) {\r\n        this.setState({ expressNumber: e.target.value } );\r\n    }\r\n    onAddressInputChange(e) {\r\n        this.setState({ address: e.target.value } );\r\n    }\r\n    onPhoneInputChange(e) {\r\n        this.setState({ phone: e.target.value } );\r\n    }\r\n\r\n    onSubmitExpressNumber= async event =>{\r\n        const accounts = await web3.eth.getAccounts();\r\n        this.setState({message:'waiting on transation success'});  \r\n\r\n        await youpin.methods.fillInTheDeliveryOrderNumber(this.state.groupId,this.state.expressNumber).send({from:accounts[0]});\r\n        \r\n        this.setState({message:'Submit success.'});\r\n        const idx_pro_info = await youpin.methods.getGroupOutline(this.state.groupId).call();\r\n        this.state.groupDetails[this.state.idx] = idx_pro_info;\r\n        this.setState({\r\n            groupDetails:this.state.groupDetails\r\n        });\r\n\r\n        this.setState({ showModal: false });\r\n        //隐藏\r\n        $('#myModal').modal('hide')\r\n        this.setState({message:''});\r\n        \r\n    }\r\n\r\n    onSubmitDestroy= async event =>{\r\n        const accounts = await web3.eth.getAccounts();\r\n        this.setState({message:'waiting on transation success'});  \r\n\r\n        await youpin.methods.destroyGroup(this.state.groupId).send({from:accounts[0]});\r\n        \r\n        this.setState({message:'Destroy success.'});\r\n        const idx_pro_info = await youpin.methods.getGroupOutline(this.state.groupId).call();\r\n        this.state.groupDetails[this.state.idx] = idx_pro_info;\r\n        this.setState({\r\n            groupDetails:this.state.groupDetails\r\n        });\r\n\r\n        this.setState({ showModal: false });\r\n        //隐藏\r\n        $('#myModal').modal('hide')\r\n        this.setState({message:''});\r\n        \r\n    }\r\n\r\n    //给模态框添加相应的产品信息\r\n    addProInModal(e){\r\n        let idx = e.target.getAttribute('data-idx');\r\n        // console.log(this.state.clickIdx)\r\n        let idx_pro_info = this.state.groupDetails[idx];\r\n        let idx_pro_info_detail = this.state.chiefDetails[idx];\r\n        // console.log(idx_pro_info)\r\n        this.setState({\r\n            idx,\r\n            groupId:this.state.groups[idx],\r\n            idx_pro_info,\r\n            idx_pro_info_detail,\r\n            pro_price:web3.utils.fromWei(idx_pro_info[2],'ether'),\r\n            pro_count:1,//每次打开模拟框初始化数量\r\n        });\r\n        this.renderIsInGroup(this.state.groups[idx]);\r\n    }\r\n    renderPassWord(){\r\n    let passWord;\r\n           if (this.state.idx_pro_info[6]) {\r\n\r\n               return (<input placeholder=\"please enter the password\"></input>);\r\n           \r\n             } else {\r\n          return ;\r\n             }\r\n    }\r\n    renderDestroy(){\r\n               if (this.state.idx_pro_info[5]===\"Join\") {\r\n                   return (<button type=\"button\" className=\"btn btn-primary\"  onClick={this.onSubmitDestroy}  >撤销该拼奖团</button>);\r\n               \r\n                 } else {\r\n              return ;\r\n                 }\r\n        }\r\n    async renderIsInGroup(idx){\r\n        const accounts = await web3.eth.getAccounts();\r\n        const isInGroup = await youpin.methods.isInGroup(idx).call({from:accounts[0]});\r\n        console.log(isInGroup);\r\n        if (isInGroup>0 && this.state.idx_pro_info[5]==='Join' ) {\r\n\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({quitState:{display: \"\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        \r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Complete the Receipt information' && this.state.idx_pro_info[7]===accounts[0]){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"\"}});\r\n        } \r\n        else if(isInGroup>0 && (this.state.idx_pro_info[5] ==='ForLottery')) {\r\n            this.setState({joinState:{display: \"\"}});\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Awaiting Shipment' && this.state.idx_pro_info[7]===accounts[0]){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"\"},joinstatestring:\"等待发货...\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Complete the Receipt information' && this.state.idx_pro_info[1]===accounts[0]){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"\"},joinstatestring:\"等待中奖人填取领奖信息\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        } \r\n        else if(this.state.idx_pro_info[5]==='Awaiting Shipment' && this.state.idx_pro_info[1]===accounts[0]){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"\"},joinstatestring:\"点击发货\"});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Confirmation of receipt' && this.state.idx_pro_info[1] === accounts[0]){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"\"},joinstatestring:\"等待确认收货\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Finish!~Congratulations!!!' && this.state.idx_pro_info[1] === accounts[0]){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"\"},joinstatestring:\"已结束。\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Destroyed.'){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"\"},joinstatestring:\"该拼团已撤销！\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n        else{\r\n            // this.setState({joinState:{display: \"none\"}});\r\n            // this.setState({haveJoinState:{display: \"\"},joinstatestring:\"已参与，未中奖！\"});\r\n            // this.setState({quitState:{display: \"none\"}});\r\n            // this.setState({receipt:{display:\"none\"}});\r\n        }\r\n    }\r\n    //生命周期:挂载成功后给state赋值\r\n    async componentDidMount(){\r\n        const accounts = await web3.eth.getAccounts();\r\n        const groups = await youpin.methods.getChiefGroupMap().call({from:accounts[0]});\r\n    // const balance = await web3.eth.getBalance(youpin.options.address);\r\n    console.log(groups.length);\r\n    const groupDetails = [];\r\n    const chiefDetails = [];\r\n    // _group.prizeName,_group.chiefWalletAddr,_group.prizeValue,_group.expectedPlayerNumber,_group.playerWalletAddrArr.length,state[_group.state],_group.ispassword,_group.prizewinnerWalletAddr\r\n    for(let i=0;i<groups.length;i++){\r\n        console.log(groups[0]);\r\n         const _group= await youpin.methods.getGroupOutline(groups[i]).call();\r\n         for(let key in _group){\r\n    console.log(key + '---' + _group[key])\r\n    console.log(_group[0]);\r\n} \r\nconst _chiefDetail = await youpin.methods.getGroupDetail(groups[i]).call();\r\n            for(let key in _chiefDetail){\r\n                console.log(key + '---' + _chiefDetail[key])\r\n            } \r\n         groupDetails.push(_group);\r\n         chiefDetails.push(_chiefDetail);\r\n    }\r\n    this.setState({groups,groupDetails,chiefDetails});\r\n\r\n        let Add_pro_arr = this.props.Add_pro_arr ? this.props.Add_pro_arr : ''\r\n        // console.log(Add_pro_arr)\r\n        this.setState({\r\n            My_pro_arr:Add_pro_arr\r\n        })\r\n    }\r\n\r\n    close() {\r\n        this.setState({ showModal: false });\r\n    }\r\n    \r\n    open() {\r\n        this.setState({ showModal: true });\r\n    }\r\n\r\n    //删除产品函数\r\n    deleteAddPro(e){\r\n        let idx = e.target.getAttribute('data-idx');\r\n        // console.log(idx);\r\n        // 删除点击的产品 并重新渲染DOM\r\n        this.state.My_pro_arr.splice(idx,1);\r\n        console.log(this.state.My_pro_arr);\r\n        //更新状态\r\n            //疑问,因为setState属于异步操作,所以DOM更新的时候My_pro_arr还未更新,导致jugleContent的判断失误\r\n        this.setState({\r\n            My_pro_arr:this.state.My_pro_arr\r\n        },function(){\r\n            console.log('setState更新成功')\r\n            this.jugleContent()\r\n        })\r\n    }\r\n\r\n    onSubmitAddress= async event =>{\r\n        const accounts = await web3.eth.getAccounts();\r\n        this.setState({message:'waiting on transation success'});  \r\n\r\n        await youpin.methods.completeReceipt(this.state.groupId,this.state.name,this.state.address,this.state.phone).send({from:accounts[0]});\r\n        \r\n        this.setState({message:'Submit success.'});\r\n        const idx_pro_info = await youpin.methods.getGroupOutline(this.state.groupId).call();\r\n        this.state.groupDetails[this.state.idx] = idx_pro_info;\r\n        this.setState({\r\n            groupDetails:this.state.groupDetails\r\n        });\r\n\r\n        this.setState({ showModal: false });\r\n        //隐藏\r\n        $('#myModal').modal('hide')\r\n        this.setState({message:''});\r\n        \r\n    }\r\n\r\n    getWinnerDetails= async event =>{\r\n        const accounts = await web3.eth.getAccounts();\r\n        this.setState({getWinnerString:'正在查询...'});  \r\n\r\n        const winnerDetail = await youpin.methods.getPrizeWinnerDetail(this.state.groupId).send({from:accounts[0]}).on('receipt', function(receipt){  \r\n            // receipt example  \r\n            console.log(receipt.events.LogRegStatus.returnValues) });\r\n        \r\n        this.setState({\r\n            name: winnerDetail.events.LogRegStatus.returnValues.prizewinnerName,\r\n            address: winnerDetail.events.LogRegStatus.returnValues.prizewinnerAddr,\r\n            phone: winnerDetail.events.LogRegStatus.returnValues.prizewinnerPhoneNumber\r\n        });\r\n\r\n        this.setState({getWinnerString:'查询成功'});\r\n    }\r\n\r\n    jugleContent(){\r\n        //如果内容不为空,则循环数据\r\n        if( this.state.groupDetails.length>0 ){\r\n            return(\r\n                 <ul>\r\n                    {/*循环接收到的数据:this.props*/}\r\n                    {\r\n                        this.state.groupDetails.map((item,i) => \r\n                            <li key={i} className=\"productLi right_li\">\r\n                                <img alt=\"\" src={\"http://localhost:8080/ipfs/\" + item[8]} className=\"productImg\" /> \r\n                                <div className=\"productCont\">\r\n                                <div className=\"contLeft\" style={{position:\"relative\",top:\"20px\",width:\"100%\"}}>\r\n                                    <p className=\"pro_name\">{item[0]}</p>\r\n                <span className=\"pro_desc\" style={this.state.spanStyle}  title={item[1]}>{this.state.chiefDetails[i][2]}</span>\r\n                                </div>\r\n\r\n                                    <div className=\"contRight\" >\r\n                                        <button className=\"btn btn-info btn-margin\">总价值￥{web3.utils.fromWei(item[2],'ether')}ETH</button>                    \r\n                    <button className=\"btn btn-info btn-margin\">参与人次:{item[4]}/{item[3]}</button>\r\n                                    </div>\r\n                                    \r\n                                    <div style={{clear:'both'}}></div>\r\n                                </div>\r\n                                <div style ={this.state.divNoFloatStyle} align=\"center\">\r\n                                        <button className=\"btn btn-danger\" data-idx={i} data-toggle=\"modal\" data-target=\"#myModal\" onClick={this.addProInModal.bind(this)}>查看详情</button>\r\n                                    </div>\r\n                            </li>)\r\n                    }\r\n                    {/*bootstrap弹框样式*/}\r\n                <div className=\"modal fade\" id=\"myModal\"  role=\"dialog\" aria-labelledby=\"myModalLabel\">\r\n                    <form id=\"saveChangeForm\">\r\n                        <div className=\"modal-dialog\" role=\"document\">\r\n                            <div className=\"modal-content\">\r\n                                <div className=\"modal-header\">\r\n                                    <h6 className=\"modal-title\" id=\"myModalLabel\">查看(团号:{this.state.groupId})详情</h6>\r\n                                </div>\r\n                                <div className=\"modal-body\">\r\n                                    <img alt=\"\" src={\"http://localhost:8080/ipfs/\" + this.state.idx_pro_info[8]} className=\"productImg\" /> \r\n                                    <div className=\"productCont\" >\r\n                                        <div className=\"contLeft\" >\r\n                                            <p className=\"pro_name\">{this.state.idx_pro_info[0]}</p>\r\n                                            <span className=\"pro_desc\" style={this.state.spanStyle} title={this.state.idx_pro_info[1]}>{this.state.idx_pro_info_detail[2]}</span>\r\n                                        </div>\r\n\r\n                                        <div className=\"contRight\" style={this.state.divStyle}>\r\n                                            <p className=\"price\">参团费用￥{this.state.pro_price/this.state.idx_pro_info[3]}ETH</p>\r\n                                            <p className=\"countBtn\">\r\n                                                <span className=\"count_warning\">完成度</span>\r\n                                                <span className=\"count\">{this.state.idx_pro_info[4]}/{this.state.idx_pro_info[3]}</span>\r\n                                            </p>\r\n                                        </div>\r\n                                        <div style={{clear:'both'}}></div>\r\n                                    </div>\r\n                                    <div className=\"productCont2\" style={this.state.groupdetailstyle}>\r\n                                    <div className=\"contLeft\" >\r\n                                            <p className=\"pro_name\" style={{position: \"relative\", top:\"-15px\" }}>团长详情</p>\r\n                                            <span className=\"pro_desc2\" style={this.state.groupDetailsspanstyle} title={this.state.idx_pro_info_detail[0]}>团长联系方式：{this.state.idx_pro_info_detail[0]}</span>\r\n                                            <span className=\"pro_desc2\" style={this.state.groupDetailsspanstyle} title={this.state.idx_pro_info_detail[1]}>团长联系地址：{this.state.idx_pro_info_detail[1]}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"productCont3\" style={this.state.groupdetailstyle}>\r\n                                        <div className=\"contLeft\" >\r\n                                            <p className=\"pro_name\" >中奖用户</p>\r\n                                            <span className=\"pro_desc2\"  title={this.state.idx_pro_info[7]}>{this.state.idx_pro_info[7]}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"modal-footer\" >\r\n                                    <span>{this.state.message}{}</span>\r\n                                    {this.renderDestroy()}\r\n                                                <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>                    \r\n            {  this.renderPassWord() }\r\n            <button type=\"button\" className=\"btn btn-primary\"  onClick={this.onSubmitChild}  style={this.state.joinState}>{this.state.idx_pro_info[5]}</button>\r\n                <button type=\"button\" className=\"btn btn-primary\"  style={this.state.haveJoinState}>{this.state.joinstatestring}</button>\r\n                                    <button type=\"button\" className=\"btn btn-primary\"  onClick={this.onSubmitQuit} style={this.state.quitState}>已参与点击退团</button>\r\n                <Button  onClick={this.open.bind(this)} style={this.state.receipt}>{this.state.joinstatestring}</Button> \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div>\r\n        \r\n \r\n        \r\n        <Modal show={this.state.showModal} onHide={this.close.bind(this)}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>填写快递单</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <table>\r\n                <tr>\r\n                    <td width=\"25%\">\r\n                        收件人姓名: \r\n                    </td>\r\n                    <td width=\"50%\">\r\n                        {this.state.name}\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td width=\"25%\">\r\n                        联系方式: \r\n                    </td>\r\n                    <td width=\"50%\">\r\n                        {this.state.phone}\r\n                    </td>\r\n                    <td>\r\n                        <button onClick={this.getWinnerDetails}>{this.state.getWinnerString}</button>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td width=\"25%\">\r\n                        收件人地址: \r\n                    </td>\r\n                    <td width=\"50%\">\r\n                        {this.state.address}\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <form role=\"form\" id=\"address_form\">\r\n\t<div class=\"form-group\" style={{align:\"center\"}}>\r\n\t\t<label for=\"name\">快递单号</label>\r\n\t\t<input type=\"text\" class=\"form-control\" id=\"expressNumber\" \r\n\t\t\t   placeholder=\"请输入快递单号\" value={this.state.expressNumber} onChange={this.onExpressNumberInputChange.bind(this)} required/>\r\n\t</div>\r\n    \r\n</form>\r\n\r\n            <hr />\r\n\r\n            \r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button onClick={this.close.bind(this)}>取消</Button>\r\n            <Button onClick={this.onSubmitExpressNumber.bind(this)}>确认无误并提交</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n                </ul>       \r\n            )\r\n        }\r\n        else{\r\n            return <div className=\"no_pro_arr\">正在加载...</div>\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        // console.log(this.jugleContent())\r\n        return(\r\n           this.jugleContent()\r\n        )\r\n    }\r\n}\r\n\r\n//connect参数之一,获取参数 , state为接受的参数\r\nconst mapStateToProps = (state) => {\r\n    console.log(state);\r\n    return {\r\n        Add_pro_arr:state.pro_Info\r\n    }\r\n}\r\n\r\nproductLists = connect(mapStateToProps)(productLists)\r\n\r\nexport default productLists;","import React from 'react'\r\n\r\nimport ProductList from './child/myProdutLists'\r\n\r\nclass myGroups extends React.Component{\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            \r\n        }\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"myProducts\">\r\n            \r\n                <ProductList />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default myGroups","import React from 'react'\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nimport '../../common/Product.css'\r\nimport iceboxImg from '../../../images/tv.jpg'\r\nimport {Modal,Button,Popover,Tooltip,FormControl,FormGroup} from 'react-bootstrap';\r\n\r\nimport $ from 'jquery'\r\n\r\nimport web3 from '../../../web3';\r\nimport youpin from '../../../youpin';\r\n\r\n\r\nclass productLists extends React.Component{\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            joinString:\"\",\r\n            waitData:\"正在加载...\",\r\n            joinstatestring:\"已参与\",\r\n            My_pro_arr:'',\r\n            joinState:{display: \"none\"},\r\n            haveJoinState:{display: \"none\"},\r\n            quitState:{display: \"none\"},\r\n            receipt:{display:\"none\"},\r\n            clickIdx:0,\r\n            pro_count:1, \r\n            idx:0,           \r\n            idx_pro_info:[],\r\n            idx_pro_info_detail:[],\r\n            password:\"0\",\r\n            warning_text:'',\r\n            pro_price:0,\r\n            groups:[],\r\n            groupId:0,\r\n            groupDetails:[],\r\n            chiefDetails:[],\r\n            divNoFloatStyle:{position: \"relative\", top: \"20px\"},\r\n            name:\"\",\r\n            address:\"\",\r\n            phone:\"\"\r\n        }\r\n    }\r\n    onNameInputChange(e) {\r\n        this.setState({ name: e.target.value } );\r\n    }\r\n    onAddressInputChange(e) {\r\n        this.setState({ address: e.target.value } );\r\n    }\r\n    onPhoneInputChange(e) {\r\n        this.setState({ phone: e.target.value } );\r\n    }\r\n    //给模态框添加相应的产品信息\r\n    addProInModal(e){\r\n        let idx = e.target.getAttribute('data-idx');\r\n        // console.log(this.state.clickIdx)\r\n        let idx_pro_info = this.state.groupDetails[idx];\r\n        let idx_pro_info_detail = this.state.chiefDetails[idx];\r\n        // console.log(idx_pro_info)\r\n        this.setState({\r\n            idx,\r\n            groupId:this.state.groups[idx],\r\n            idx_pro_info,\r\n            \r\n            joinString:idx_pro_info[5],\r\n            idx_pro_info_detail,\r\n            pro_price:web3.utils.fromWei(idx_pro_info[2],'ether'),\r\n            pro_count:1,//每次打开模拟框初始化数量\r\n        });\r\n        this.renderIsInGroup(this.state.groups[idx]);\r\n    }\r\n    renderPassWord(){\r\n        let passWord;\r\n        if (this.state.idx_pro_info[6] && this.state.idx_pro_info[5]===\"Join\") {\r\n            return (<input placeholder=\"please enter the password\" onChange={ event=> {this.setState({password:event.target.value})}}></input>);\r\n        }\r\n        else{\r\n             return ;\r\n        }\r\n         }\r\n    async renderIsInGroup(idx){\r\n        const accounts = await web3.eth.getAccounts();\r\n        const isInGroup = await youpin.methods.isInGroup(idx).call({from:accounts[0]});\r\n        console.log(this.state.idx_pro_info[5] ==='ForLottery');\r\n        if (isInGroup>0 && this.state.idx_pro_info[5]==='Join' ) {\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({quitState:{display: \"\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        \r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Complete the Receipt information' && this.state.idx_pro_info[7]===accounts[0]){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"\"}});\r\n        } \r\n        else if(this.state.idx_pro_info[5] ==='ForLottery') {\r\n            this.setState({joinState:{display: \"\"},joinString:\"点击开奖\"});\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Awaiting Shipment' && this.state.idx_pro_info[7]===accounts[0]){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"\"},joinstatestring:\"等待发货...\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Confirmation of receipt' && this.state.idx_pro_info[7] === accounts[0]){\r\n            this.setState({joinState:{display: \"\"},joinString:\"点击确认收货\"});\r\n            this.setState({haveJoinState:{display: \"none\"}});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Finish!~Congratulations!!!' && this.state.idx_pro_info[7] === accounts[0]){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"\"},joinstatestring:\"奖品已收到！\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Destroyed.'){\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"\"},joinstatestring:\"该拼团已撤销！参团费用已退还。\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n        else{\r\n            this.setState({joinState:{display: \"none\"}});\r\n            this.setState({haveJoinState:{display: \"\"},joinstatestring:\"已参与，未中奖！\"});\r\n            this.setState({quitState:{display: \"none\"}});\r\n            this.setState({receipt:{display:\"none\"}});\r\n        }\r\n    }\r\n    onSubmitChild= async event =>{\r\n        const accounts = await web3.eth.getAccounts();\r\n        this.setState({message:'waiting on transation success'});\r\n        if (this.state.idx_pro_info[5] ==='ForLottery'){\r\n            await youpin.methods.lottery(this.state.groupId).send({from:accounts[0]});\r\n            const idx_pro_info = await youpin.methods.getGroupOutline(this.state.groupId).call();\r\n            this.state.groupDetails[this.state.idx] = idx_pro_info;\r\n            this.setState({\r\n               groupDetails:this.state.groupDetails\r\n            });\r\n            this.setState({message:\"Congratulate\"+idx_pro_info[7]});\r\n        }\r\n        else if(this.state.idx_pro_info[5]==='Confirmation of receipt'){\r\n            await youpin.methods.confirm(this.state.groupId).send({from:accounts[0]});\r\n            const idx_pro_info = await youpin.methods.getGroupOutline(this.state.groupId).call();\r\n            this.state.groupDetails[this.state.idx] = idx_pro_info;\r\n            this.setState({\r\n               groupDetails:this.state.groupDetails\r\n            });\r\n            this.setState({message:\"确认收货成功\",joinState:{display:\"none\"}});\r\n\r\n        }\r\n        else{\r\n            if (this.state.password == null){\r\n                this.state.password = \"0\";\r\n            }\r\n            await youpin.methods.joinGroup(this.state.groupId,this.state.password).send({from:accounts[0],value:web3.utils.toWei(String(this.state.pro_price/this.state.idx_pro_info[3]),'ether')});\r\n         \r\n            this.setState({message:'you have participated.'});\r\n            const idx_pro_info = await youpin.methods.getGroupOutline(this.state.groupId).call();\r\n            this.state.groupDetails[this.state.idx] = idx_pro_info;\r\n            this.setState({\r\n               groupDetails:this.state.groupDetails\r\n            });\r\n\r\n            //隐藏\r\n            $('#myModal').modal('hide')\r\n            this.setState({message:''});\r\n        }\r\n         \r\n    }\r\n    //生命周期:挂载成功后给state赋值\r\n    async componentDidMount(){\r\n        const accounts = await web3.eth.getAccounts();\r\n        const groups = await youpin.methods.getWinnerGroupMap().call({from:accounts[0]});\r\n    // const balance = await web3.eth.getBalance(youpin.options.address);\r\n    console.log(groups.length);\r\n    if(groups.length === 0){\r\n        this.setState({waitData:\"没有获取到数据。\"});\r\n    }\r\n    const groupDetails = [];\r\n    const chiefDetails = [];\r\n    // _group.prizeName,_group.chiefWalletAddr,_group.prizeValue,_group.expectedPlayerNumber,_group.playerWalletAddrArr.length,state[_group.state],_group.ispassword,_group.prizewinnerWalletAddr\r\n    for(let i=0;i<groups.length;i++){\r\n        console.log(groups[0]);\r\n        const _group= await youpin.methods.getGroupOutline(groups[i]).call();\r\n        for(let key in _group){\r\n            console.log(key + '---' + _group[key])\r\n        } \r\n        const _chiefDetail = await youpin.methods.getGroupDetail(groups[i]).call();\r\n        for(let key in _chiefDetail){\r\n            console.log(key + '---' + _chiefDetail[key])\r\n        } \r\n        groupDetails.push(_group);\r\n        chiefDetails.push(_chiefDetail);\r\n    }\r\n    this.setState({groups,groupDetails,chiefDetails});\r\n\r\n        let Add_pro_arr = this.props.Add_pro_arr ? this.props.Add_pro_arr : ''\r\n        // console.log(Add_pro_arr)\r\n        this.setState({\r\n            My_pro_arr:Add_pro_arr\r\n        })\r\n    }\r\n\r\n    close() {\r\n        this.setState({ showModal: false });\r\n    }\r\n    \r\n    open() {\r\n        this.setState({ showModal: true });\r\n    }\r\n\r\n    //删除产品函数\r\n    deleteAddPro(e){\r\n        let idx = e.target.getAttribute('data-idx');\r\n        // console.log(idx);\r\n        // 删除点击的产品 并重新渲染DOM\r\n        this.state.My_pro_arr.splice(idx,1);\r\n        console.log(this.state.My_pro_arr);\r\n        //更新状态\r\n            //疑问,因为setState属于异步操作,所以DOM更新的时候My_pro_arr还未更新,导致jugleContent的判断失误\r\n        this.setState({\r\n            My_pro_arr:this.state.My_pro_arr\r\n        },function(){\r\n            console.log('setState更新成功')\r\n            this.jugleContent()\r\n        })\r\n    }\r\n\r\n    onSubmitAddress= async event =>{\r\n        const accounts = await web3.eth.getAccounts();\r\n        this.setState({message:'waiting on transation success'});  \r\n\r\n        await youpin.methods.completeReceipt(this.state.groupId,this.state.name,this.state.address,this.state.phone).send({from:accounts[0]});\r\n        \r\n        this.setState({message:'Submit success.'});\r\n        const idx_pro_info = await youpin.methods.getGroupOutline(this.state.groupId).call();\r\n        this.state.groupDetails[this.state.idx] = idx_pro_info;\r\n        this.setState({\r\n            groupDetails:this.state.groupDetails\r\n        });\r\n\r\n        this.setState({ showModal: false });\r\n        //隐藏\r\n        $('#myModal').modal('hide')\r\n        this.setState({message:''});\r\n        \r\n    }\r\n\r\n    jugleContent(){\r\n\r\n        //如果内容不为空,则循环数据\r\n        if( this.state.groupDetails.length>0 ){\r\n            return(\r\n                 <ul>\r\n                    {/*循环接收到的数据:this.props*/}\r\n                    {\r\n                        this.state.groupDetails.map((item,i) => \r\n                        <li key={i} className=\"productLi right_li\">\r\n                        <img alt=\"\" src={\"http://localhost:8080/ipfs/\" + item[8]} className=\"productImg\" /> \r\n                        <div className=\"productCont\">\r\n                        <div className=\"contLeft\" style={{position:\"relative\",top:\"20px\",width:\"100%\"}}>\r\n                            <p className=\"pro_name\">{item[0]}</p>\r\n        <span className=\"pro_desc\" style={this.state.spanStyle}  title={item[1]}>{this.state.chiefDetails[i][2]}</span>\r\n                        </div>\r\n\r\n                            <div className=\"contRight\" >\r\n                                <button className=\"btn btn-info btn-margin\">总价值￥{web3.utils.fromWei(item[2],'ether')}ETH</button>                    \r\n            <button className=\"btn btn-info btn-margin\">参与人次:{item[4]}/{item[3]}</button>\r\n                            </div>\r\n                            \r\n                            <div style={{clear:'both'}}></div>\r\n                        </div>\r\n                        <div style ={this.state.divNoFloatStyle} align=\"center\">\r\n                                <button className=\"btn btn-danger\" data-idx={i} data-toggle=\"modal\" data-target=\"#myModal\" onClick={this.addProInModal.bind(this)}>查看详情</button>\r\n                            </div>\r\n                    </li>)\r\n                    }\r\n                    {/*bootstrap弹框样式*/}\r\n                <div className=\"modal fade\" id=\"myModal\"  role=\"dialog\" aria-labelledby=\"myModalLabel\">\r\n                    <form id=\"saveChangeForm\">\r\n                        <div className=\"modal-dialog\" role=\"document\">\r\n                            <div className=\"modal-content\">\r\n                                <div className=\"modal-header\">\r\n                                    <h6 className=\"modal-title\" id=\"myModalLabel\">查看(团号:{this.state.groupId})详情</h6>\r\n                                </div>\r\n                                <div className=\"modal-body\">\r\n                                    <img alt=\"\" src={\"http://localhost:8080/ipfs/\" + this.state.idx_pro_info[8]} className=\"productImg\" /> \r\n                                    <div className=\"productCont\" >\r\n                                        <div className=\"contLeft\" >\r\n                                            <p className=\"pro_name\">{this.state.idx_pro_info[0]}</p>\r\n                                            <span className=\"pro_desc\" style={this.state.spanStyle} title={this.state.idx_pro_info[1]}>{this.state.idx_pro_info_detail[2]}</span>\r\n                                        </div>\r\n\r\n                                        <div className=\"contRight\" style={this.state.divStyle}>\r\n                                            <p className=\"price\">参团费用￥{this.state.pro_price/this.state.idx_pro_info[3]}ETH</p>\r\n                                            <p className=\"countBtn\">\r\n                                                <span className=\"count_warning\">完成度</span>\r\n                                                <span className=\"count\">{this.state.idx_pro_info[4]}/{this.state.idx_pro_info[3]}</span>\r\n                                            </p>\r\n                                        </div>\r\n                                        <div style={{clear:'both'}}></div>\r\n                                    </div>\r\n                                    <div className=\"productCont2\" style={this.state.groupdetailstyle}>\r\n                                    <div className=\"contLeft\" >\r\n                                            <p className=\"pro_name\" style={{position: \"relative\", top:\"-15px\" }}>团长详情</p>\r\n                                            <span className=\"pro_desc2\" style={this.state.groupDetailsspanstyle} title={this.state.idx_pro_info_detail[0]}>团长联系方式：{this.state.idx_pro_info_detail[0]}</span>\r\n                                            <span className=\"pro_desc2\" style={this.state.groupDetailsspanstyle} title={this.state.idx_pro_info_detail[1]}>团长联系地址：{this.state.idx_pro_info_detail[1]}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"productCont3\" style={this.state.groupdetailstyle}>\r\n                                        <div className=\"contLeft\" >\r\n                                            <p className=\"pro_name\" >中奖用户</p>\r\n                                            <span className=\"pro_desc2\"  title={this.state.idx_pro_info[7]}>{this.state.idx_pro_info[7]}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"modal-footer\" >\r\n                                    <span>{this.state.message}{}</span>\r\n                                    \r\n                                                <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>                    \r\n            {  this.renderPassWord() }\r\n            <button type=\"button\" className=\"btn btn-primary\"  onClick={this.onSubmitChild}  style={this.state.joinState}>{this.state.joinString}</button>\r\n                <button type=\"button\" className=\"btn btn-primary\"  style={this.state.haveJoinState}>{this.state.joinstatestring}</button>\r\n                                    <button type=\"button\" className=\"btn btn-primary\"  onClick={this.onSubmitQuit} style={this.state.quitState}>已参与点击退团</button>\r\n                                    <Button  onClick={this.open.bind(this)} style={this.state.receipt}>恭喜中奖，点击填写收货信息</Button> \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div>\r\n        \r\n \r\n        \r\n        <Modal show={this.state.showModal} onHide={this.close.bind(this)}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>填写收货信息</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <form role=\"form\" id=\"address_form\">\r\n\t<div class=\"form-group\" style={{align:\"center\"}}>\r\n\t\t<label for=\"name\">您的名称</label>\r\n\t\t<input type=\"text\" class=\"form-control\" id=\"name\" \r\n\t\t\t   placeholder=\"请输入名称\" value={this.state.name} onChange={this.onNameInputChange.bind(this)} required/>\r\n\t</div>\r\n    <div class=\"form-group\">\r\n\t\t<label for=\"name\">您的联系方式</label>\r\n\t\t<input type=\"text\" class=\"form-control\" id=\"phone\" \r\n\t\t\t   placeholder=\"请输入手机号\" value={this.state.phone} onChange={this.onPhoneInputChange.bind(this)} required/>\r\n\t</div>\r\n    <div class=\"form-group\">\r\n\t\t<label for=\"name\">您的收货地址</label>\r\n\t\t<input type=\"text\" class=\"form-control\" id=\"address\" \r\n\t\t\t   placeholder=\"请输入收货地址\" value={this.state.address} onChange={this.onAddressInputChange.bind(this)} required/>\r\n\t</div>\r\n</form>\r\n\r\n            <hr />\r\n\r\n            \r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button onClick={this.close.bind(this)}>取消</Button>\r\n            <Button onClick={this.onSubmitAddress.bind(this)}>确认无误并提交</Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n                </ul>       \r\n            )\r\n        }\r\n        else{\r\n        return <div className=\"no_pro_arr\">{this.state.waitData}</div>\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        // console.log(this.jugleContent())\r\n        return(\r\n           this.jugleContent()\r\n        )\r\n    }\r\n}\r\n\r\n//connect参数之一,获取参数 , state为接受的参数\r\nconst mapStateToProps = (state) => {\r\n    console.log(state);\r\n    return {\r\n        Add_pro_arr:state.pro_Info\r\n    }\r\n}\r\n\r\nproductLists = connect(mapStateToProps)(productLists)\r\n\r\nexport default productLists;","import React from 'react'\r\n\r\nimport ProductList from './child/myProdutLists'\r\n\r\nclass winnerGroups extends React.Component{\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            \r\n        }\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\"myProducts\">\r\n            \r\n                <ProductList />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default winnerGroups","let infoBox = [];\r\nfunction put_in_infoBox(action){\r\n    // console.log(action);\r\n    //如果刚开始infoBox没有数据\r\n    infoBox.push(action)\r\n}\r\n\r\nfunction addPro(state,action){\r\n    // console.log(action);\r\n    // console.log(action.type);\r\n    if (!state) {\r\n        return {\r\n            pro_name: [],\r\n            pro_price: [],\r\n        }\r\n    }\r\n    switch(action.type){\r\n        //如果有action动作,则更新infoBox\r\n        case 'ADD': \r\n            //处理数据\r\n            put_in_infoBox(action);\r\n            console.log('infoBox-content')\r\n            console.log(infoBox);\r\n            return {\r\n                pro_Info:infoBox\r\n\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default addPro","import reducer from './reducer'\r\nimport { createStore } from 'redux'\r\n\r\nconst store = createStore(\r\n    reducer,\r\n)\r\n\r\nexport default store","import React from 'react'\r\n//需要补充BrowserRouter,否则报错无法识别浏览器路径\r\nimport { HashRouter as Router,Route,Switch} from 'react-router-dom';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\n\r\n//添加组件\r\n    //公共组建\r\nimport Navigator from '../pages/common/navigator' //左侧导航栏组件\r\nimport TopInfo from '../pages/common/topInfo' //顶部信息栏\r\n    //路由组件\r\nimport home from '../pages/home/home'   //主页组件\r\nimport myProducts from '../pages/myProducts/myProducts'    //添加信息组件\r\nimport newGroup from '../pages/newGroup/newGroup'\r\nimport myGroups from '../pages/myGroups/myGroups'\r\nimport winnerGroups from '../pages/winnerGroups/winnerGroups'\r\n\r\nimport { Provider } from 'react-redux'\r\nimport store from '../store'\r\n\r\nimport web3 from '../web3';\r\nimport youpin from '../youpin';\r\n class RouteJs extends React.Component{\r\n  state = {\r\n    manager: \"\",\r\n    groups:[],\r\n    balance:\"\",\r\n    value:\"\",\r\n    message:\"\",\r\n    data:\"\"\r\n  };\r\n\r\n    render(){\r\n        return(\r\n            <Provider store={store}>\r\n                <Router>\r\n                    <div className=\"componentWried\">\r\n                        <div  className=\"topInfo\">\r\n                            <TopInfo />\r\n                        </div>\r\n                        \r\n                        <div className=\"container-fluid\" style={{paddingTop:\"35px\"}}>\r\n                            <div className=\"row\" >\r\n                                <div className=\"col-sm-2 left_nav\">\r\n                                    <Navigator />                                \r\n                                </div>\r\n                                <div className=\"col-sm-10 right_cont\">\r\n                                    <div className=\"showComp\">\r\n                                        <Switch>\r\n                                            <Route exact path=\"/\" component={home} />\r\n                                            <Route path=\"/myProducts\" component={myProducts} />\r\n                                            <Route path=\"/newGroup\" component={newGroup} />\r\n                                            <Route path=\"/myGroups\" component={myGroups} />\r\n                                            <Route path=\"/winnerGroups\" component={winnerGroups} />\r\n                                        </Switch>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>  \r\n                    </div>\r\n                </Router>\r\n            </Provider>\r\n        )\r\n    }\r\n}\r\n\r\nexport default RouteJs","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport registerServiceWorker from './registerServiceWorker';\nimport './index.css';\n\n//导入路由Js\nimport RouterJs from './router/index'\n\nReactDOM.render(<RouterJs />,document.getElementById('root'))\n\n registerServiceWorker();","module.exports = __webpack_public_path__ + \"static/media/tv.28695494.jpg\";","import web3 from './web3';\n\n//const address = '0x1522734A8f262fad2F11112e4091F32599240083';\nconst address = '0xCCDBf105D323aa23A7F6b517eAC80bFc4ad3F936';\n//const abi = [{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"},{\"name\":\"_prizewinnerName\",\"type\":\"string\"},{\"name\":\"_prizewinnerAddr\",\"type\":\"string\"},{\"name\":\"_prizewinnerPhoneNumber\",\"type\":\"string\"}],\"name\":\"completeReceipt\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"getGroupOutline\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"bool\"},{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"},{\"name\":\"_expressNumber\",\"type\":\"string\"}],\"name\":\"fillInTheDeliveryOrderNumber\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"},{\"name\":\"_password\",\"type\":\"string\"}],\"name\":\"joinGroup\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"winnerRefund\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getPlayerGroupMap\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"getPrizeWinnerDetail\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getWinnerGroupMap\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"personalRefund\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"lottery\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getGroupArr\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_prizeName\",\"type\":\"string\"},{\"name\":\"_expectedPlayerNumber\",\"type\":\"uint256\"},{\"name\":\"_password\",\"type\":\"string\"}],\"name\":\"newGroup\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"destroyGroup\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"isInGroup\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"getGroupDetail\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getChiefGroupMap\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"cofirm\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];\nconst abi = [{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"},{\"name\":\"_prizewinnerName\",\"type\":\"string\"},{\"name\":\"_prizewinnerAddr\",\"type\":\"string\"},{\"name\":\"_prizewinnerPhoneNumber\",\"type\":\"string\"}],\"name\":\"completeReceipt\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"getGroupOutline\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"uint256\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"bool\"},{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"},{\"name\":\"_password\",\"type\":\"uint256\"}],\"name\":\"joinGroup\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"},{\"name\":\"_expressNumber\",\"type\":\"string\"}],\"name\":\"fillInTheDeliveryOrderNumber\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_prizeName\",\"type\":\"string\"},{\"name\":\"_expectedPlayerNumber\",\"type\":\"uint256\"},{\"name\":\"_password\",\"type\":\"uint256\"},{\"name\":\"_image\",\"type\":\"string\"},{\"name\":\"_chiefAddr\",\"type\":\"string\"},{\"name\":\"_chiefPhoneNumber\",\"type\":\"string\"},{\"name\":\"_chiefdetail\",\"type\":\"string\"}],\"name\":\"newGroup\",\"outputs\":[],\"payable\":true,\"stateMutability\":\"payable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"winnerRefund\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getPlayerGroupMap\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"getPrizeWinnerDetail\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getWinnerGroupMap\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"personalRefund\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"lottery\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getGroupArr\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"confirm\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"destroyGroup\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"isInGroup\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_groupId\",\"type\":\"uint256\"}],\"name\":\"getGroupDetail\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"},{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getChiefGroupMap\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256[]\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"prizewinnerName\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"prizewinnerAddr\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"prizewinnerPhoneNumber\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"expressNumber\",\"type\":\"string\"}],\"name\":\"LogRegStatus\",\"type\":\"event\"}];\n\nexport default new web3.eth.Contract(abi,address);\n\n","module.exports = \"data:image/jpeg;base64,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\"","import React from 'react'\r\n\r\nimport web3 from '../../web3';\r\nimport youpin from '../../youpin';\r\n\r\nimport ipfsAPI from 'ipfs-api';\r\nconst ipfs = ipfsAPI({host: 'localhost', port: '5001', protocol: 'http'});\r\n\r\nlet saveImageOnIpfs = (reader) => {\r\n  return new Promise(function(resolve, reject) {\r\n    const buffer = Buffer.from(reader.result);\r\n    ipfs.add(buffer).then((response) => {\r\n      console.log(response)\r\n      resolve(response[0].hash);\r\n    }).catch((err) => {\r\n      console.error(err)\r\n      reject(err);\r\n    })\r\n  })\r\n}\r\n\r\nclass newGroup extends React.Component{\r\n   state = {\r\n    prizeName:\"\",\r\n    prizeValue:\"0\",\r\n    playerNumber:\"\",\r\n    password:\"0\",\r\n    prizeImage:\"\",\r\n    address:\"\",\r\n    phoneNumber:\"\",\r\n    details:\"\"\r\n  };\r\n\r\n  onSubmit = async event =>{\r\n    event.preventDefault();\r\n    const accounts = await web3.eth.getAccounts();\r\n    this.setState({message:'waiting on transation success'});\r\n    if (this.state.password == null){\r\n        this.state.password = \"0\";\r\n    }\r\n    await youpin.methods.newGroup(this.state.prizeName,this.state.playerNumber,this.state.password,this.state.prizeImage,this.state.address,this.state.phoneNumber,this.state.details).send({from:accounts[0],value:web3.utils.toWei(this.state.prizeValue,'ether')});\r\n    \r\n    this.setState({message:'you have been created.'});\r\n  };\r\n    \r\n    render(){\r\n        web3.eth.getAccounts().then(console.log);\r\n        return(\r\n            <div className=\"newGroup\">\r\n    <hr/>\r\n    <form onSubmit={ this.onSubmit}>\r\n        <div align=\"center\">\r\n        <table border=\"10px\" style={{width:\"80%\"}}>\r\n            <tr>\r\n                <td>\r\n                    <h4 align=\"center\"> Welcome~!! </h4>\r\n                </td>\r\n                <td/>\r\n            </tr>\r\n            <tr>\r\n                <td width=\"40%\" align=\"center\"><label>奖品名称</label></td>\r\n                <td ><input placeholder=\"填写奖品名称\" style={{width:\"100%\"}} value={ this.state.prizeName} onChange={ event=> {this.setState({prizeName:event.target.value})}} required/>\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td align=\"center\"><label> 奖品图片 </label>\r\n                </td>\r\n                <input type=\"file\" ref=\"file\" id=\"file\" name=\"file\" multiple=\"multiple\" onChange={() => {\r\n            var file = this.refs.file.files[0];\r\n            var reader = new FileReader();\r\n            // reader.readAsDataURL(file);\r\n            reader.readAsArrayBuffer(file)\r\n            reader.onloadend = (e) => {\r\n              console.log(reader);\r\n              saveImageOnIpfs(reader).then((hash) => {\r\n                console.log(hash);\r\n                this.setState({prizeImage: hash})\r\n              });\r\n            }}}/>\r\n                <img  src={\"http://localhost:8080/ipfs/\" + this.state.prizeImage} height=\"150px\" />\r\n                \r\n            </tr>\r\n            <tr>\r\n                <td align=\"center\"> <label> 奖品价值 </label>\r\n                </td>\r\n                <input style={{width:\"100%\"}} value={ this.state.prizeValue} onChange={ event=> {this.setState({prizeValue:event.target.value})}} required/>\r\n                \r\n            </tr>\r\n            <tr>\r\n                <td align=\"center\"> <label> 参与人数 </label>\r\n                </td>\r\n                <input placeholder=\"填写该团参与人数\" style={{width:\"100%\"}} value={ this.state.playerNumber} onChange={ event=> {this.setState({playerNumber:event.target.value})}} required/>\r\n                \r\n            </tr>\r\n            <tr>\r\n                <td align=\"center\"><label> 领奖联系地址 </label>\r\n                </td>\r\n                <input placeholder=\"填写领奖联系地址\" style={{width:\"100%\"}} value={ this.state.address} onChange={ event=> {this.setState({address:event.target.value})}} required/>\r\n                \r\n            </tr>\r\n            <tr>\r\n                <td align=\"center\">\r\n                    <label> 领奖联系方式 </label>\r\n                </td>\r\n                <input placeholder=\"填写联系方式\" style={{width:\"100%\"}} value={ this.state.phoneNumber} onChange={ event=> {this.setState({phoneNumber:event.target.value})}} required/>\r\n                \r\n            </tr>\r\n            <tr>\r\n                <td align=\"center\"><label> 奖品简介 </label>\r\n                </td>\r\n                <input placeholder=\"填写奖品简介\" style={{width:\"100%\"}} value={ this.state.details} onChange={ event=> {this.setState({details:event.target.value})}} required/>\r\n                \r\n            </tr>\r\n            <tr>\r\n                <td align=\"center\"><label> 进团口令(纯数字，0表示无口令) </label>\r\n                </td>\r\n                <input placeholder=\"填写进团口令，无进团口令留空\" style={{width:\"100%\"}} value={ this.state.password} onChange={ event=> {this.setState({password:event.target.value})}}/>\r\n                \r\n            </tr>\r\n            <tr>\r\n                <td><div> {this.state.message} </div></td>\r\n                <td align=\"center\"><button> 创建新的拼奖团 </button></td>\r\n            </tr>\r\n        </table>\r\n        </div>\r\n    </form>\r\n</div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default newGroup"],"sourceRoot":""}